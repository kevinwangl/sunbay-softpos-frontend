# ğŸš€ å¿«é€Ÿæµ‹è¯•æŒ‡å—

## ğŸ“ æµ‹è¯•å‰å‡†å¤‡

1. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
```bash
cd sunbay-softpos-frontend
npm run dev
```

2. **æ‰“å¼€æµè§ˆå™¨**
- è®¿é—®ï¼šhttp://localhost:5173
- æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰
- åˆ‡æ¢åˆ°Consoleæ ‡ç­¾

---

## âœ… æµ‹è¯•æ­¥éª¤

### ç¬¬1æ­¥ï¼šæ£€æŸ¥MSWå¯åŠ¨

åœ¨Consoleä¸­åº”è¯¥çœ‹åˆ°ï¼š
```
MSW: Base URL is /api
MSW: Handlers initialized
[MSW] Mocking enabled.
```

âœ… **é€šè¿‡**ï¼šçœ‹åˆ°ä»¥ä¸Šä¿¡æ¯  
âŒ **å¤±è´¥**ï¼šæ²¡æœ‰çœ‹åˆ° â†’ é‡å¯å¼€å‘æœåŠ¡å™¨

---

### ç¬¬2æ­¥ï¼šç™»å½•æµ‹è¯•

1. è¾“å…¥å‡­è¯ï¼š
   - ç”¨æˆ·åï¼š`admin`
   - å¯†ç ï¼š`admin123`

2. ç‚¹å‡»"ç™»å½•"

3. Consoleåº”æ˜¾ç¤ºï¼š
```
ç™»å½•è¡¨å•æäº¤: {username: "admin", password: "admin123"}
useLogin: å‘é€ç™»å½•è¯·æ±‚ {username: "admin", password: "admin123"}
API Client: å‘é€è¯·æ±‚ POST /auth/login
MSW: æ”¶åˆ°ç™»å½•è¯·æ±‚
MSW: ç™»å½•æ•°æ® {username: "admin", password: "admin123"}
MSW: ç™»å½•æˆåŠŸ
API Client: æ”¶åˆ°å“åº” /auth/login 200 {code: 200, data: {...}}
useLogin: ç™»å½•æˆåŠŸ {user: {...}, token: "...", refreshToken: "..."}
```

4. é¡µé¢åº”è‡ªåŠ¨è·³è½¬åˆ°Dashboard

âœ… **é€šè¿‡**ï¼šæˆåŠŸè·³è½¬åˆ°Dashboard  
âŒ **å¤±è´¥**ï¼šåœç•™åœ¨ç™»å½•é¡µ â†’ æŸ¥çœ‹Consoleé”™è¯¯ä¿¡æ¯

---

### ç¬¬3æ­¥ï¼šDashboardæ•°æ®æµ‹è¯•

è¿›å…¥Dashboardåï¼ŒConsoleåº”æ˜¾ç¤ºï¼š

```
useDashboard: å¼€å§‹è·å–å¥åº·æ¦‚è§ˆæ•°æ®
API Client: å‘é€è¯·æ±‚ GET /dashboard/health-overview
MSW: æ”¶åˆ°å¥åº·æ¦‚è§ˆè¯·æ±‚
API Client: æ”¶åˆ°å“åº” /dashboard/health-overview 200 {code: 200, data: {...}}
useDashboard: è·å–å¥åº·æ¦‚è§ˆæˆåŠŸ {totalDevices: 10, onlineDevices: 8, ...}
Dashboard: isLoading= false data= {...} error= undefined
```

é¡µé¢åº”æ˜¾ç¤ºï¼š
- âœ… æ€»è®¾å¤‡æ•°ï¼š10
- âœ… åœ¨çº¿è®¾å¤‡ï¼š8
- âœ… å¼‚å¸¸è®¾å¤‡ï¼š2
- âœ… å¹³å‡å®‰å…¨è¯„åˆ†ï¼š75
- âœ… è®¾å¤‡çŠ¶æ€åˆ†å¸ƒé¥¼å›¾
- âœ… å®‰å…¨è¯„åˆ†åˆ†å¸ƒæŸ±çŠ¶å›¾
- âœ… å¼‚å¸¸è®¾å¤‡åˆ—è¡¨

âœ… **é€šè¿‡**ï¼šæ‰€æœ‰æ•°æ®æ­£å¸¸æ˜¾ç¤º  
âŒ **å¤±è´¥**ï¼šæ•°æ®ä¸æ˜¾ç¤º â†’ æ‰§è¡Œ[è¯Šæ–­è„šæœ¬](#è¯Šæ–­è„šæœ¬)

---

### ç¬¬4æ­¥ï¼šè®¾å¤‡åˆ—è¡¨æµ‹è¯•

1. ç‚¹å‡»å·¦ä¾§èœå•"è®¾å¤‡ç®¡ç†" â†’ "è®¾å¤‡åˆ—è¡¨"

2. Consoleåº”æ˜¾ç¤ºï¼š
```
useDevices: å¼€å§‹è·å–è®¾å¤‡åˆ—è¡¨ {...}
API Client: å‘é€è¯·æ±‚ GET /devices
MSW: æ”¶åˆ°è®¾å¤‡åˆ—è¡¨è¯·æ±‚
API Client: æ”¶åˆ°å“åº” /devices 200 {code: 200, data: {...}}
useDevices: è·å–è®¾å¤‡åˆ—è¡¨æˆåŠŸ {items: [...], total: 10}
```

3. é¡µé¢åº”æ˜¾ç¤ºï¼š
- âœ… 10ä¸ªè®¾å¤‡è®°å½•
- âœ… å¯ä»¥ç­›é€‰çŠ¶æ€ï¼ˆå…¨éƒ¨/æ­£å¸¸/å¾…å®¡æ‰¹/å·²æš‚åœ/å·²åŠé”€ï¼‰
- âœ… å¯ä»¥æœç´¢è®¾å¤‡
- âœ… å¯ä»¥ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…

âœ… **é€šè¿‡**ï¼šè®¾å¤‡åˆ—è¡¨æ­£å¸¸æ˜¾ç¤º  
âŒ **å¤±è´¥**ï¼šåˆ—è¡¨ä¸ºç©º â†’ æŸ¥çœ‹Consoleé”™è¯¯

---

### ç¬¬5æ­¥ï¼šå¨èƒäº‹ä»¶æµ‹è¯•

1. ç‚¹å‡»å·¦ä¾§èœå•"å®‰å…¨ç›‘æ§" â†’ "å¨èƒäº‹ä»¶"

2. Consoleåº”æ˜¾ç¤ºï¼š
```
useThreats: å¼€å§‹è·å–å¨èƒåˆ—è¡¨ {...}
API Client: å‘é€è¯·æ±‚ GET /threats
MSW: æ”¶åˆ°å¨èƒäº‹ä»¶åˆ—è¡¨è¯·æ±‚
API Client: æ”¶åˆ°å“åº” /threats 200 {code: 200, data: {...}}
useThreats: è·å–å¨èƒåˆ—è¡¨æˆåŠŸ {items: [...], total: 5}
```

3. é¡µé¢åº”æ˜¾ç¤ºï¼š
- âœ… 5ä¸ªå¨èƒäº‹ä»¶
- âœ… å¯ä»¥ç­›é€‰ç±»å‹å’Œä¸¥é‡ç¨‹åº¦
- âœ… å¯ä»¥å¤„ç†å¨èƒäº‹ä»¶

âœ… **é€šè¿‡**ï¼šå¨èƒåˆ—è¡¨æ­£å¸¸æ˜¾ç¤º  
âŒ **å¤±è´¥**ï¼šåˆ—è¡¨ä¸ºç©º â†’ æŸ¥çœ‹Consoleé”™è¯¯

---

### ç¬¬6æ­¥ï¼šäº¤æ˜“è®°å½•æµ‹è¯•

1. ç‚¹å‡»å·¦ä¾§èœå•"äº¤æ˜“ç®¡ç†" â†’ "äº¤æ˜“è®°å½•"

2. Consoleåº”æ˜¾ç¤ºï¼š
```
useTransactions: å¼€å§‹è·å–äº¤æ˜“åˆ—è¡¨ {...}
API Client: å‘é€è¯·æ±‚ GET /transactions
MSW: æ”¶åˆ°äº¤æ˜“åˆ—è¡¨è¯·æ±‚
API Client: æ”¶åˆ°å“åº” /transactions 200 {code: 200, data: {...}}
useTransactions: è·å–äº¤æ˜“åˆ—è¡¨æˆåŠŸ {items: [...], total: 20}
```

3. é¡µé¢åº”æ˜¾ç¤ºï¼š
- âœ… 20æ¡äº¤æ˜“è®°å½•
- âœ… æ˜¾ç¤ºäº¤æ˜“é‡‘é¢ã€çŠ¶æ€ã€æ—¶é—´
- âœ… å¯ä»¥æŸ¥çœ‹è¯¦æƒ…

âœ… **é€šè¿‡**ï¼šäº¤æ˜“åˆ—è¡¨æ­£å¸¸æ˜¾ç¤º  
âŒ **å¤±è´¥**ï¼šåˆ—è¡¨ä¸ºç©º â†’ æŸ¥çœ‹Consoleé”™è¯¯

---

### ç¬¬7æ­¥ï¼šè®¾å¤‡è¯¦æƒ…æµ‹è¯•

1. åœ¨è®¾å¤‡åˆ—è¡¨ä¸­ç‚¹å‡»ä»»æ„è®¾å¤‡

2. åº”è¯¥è·³è½¬åˆ°è®¾å¤‡è¯¦æƒ…é¡µ

3. é¡µé¢åº”æ˜¾ç¤ºï¼š
- âœ… è®¾å¤‡åŸºæœ¬ä¿¡æ¯
- âœ… å®‰å…¨è¯„åˆ†
- âœ… å¯†é’¥ä¿¡æ¯
- âœ… å¥åº·æ£€æŸ¥è®°å½•
- âœ… æ“ä½œæŒ‰é’®ï¼ˆæš‚åœ/æ¢å¤/åŠé”€/æ›´æ–°å¯†é’¥ï¼‰

âœ… **é€šè¿‡**ï¼šè¯¦æƒ…é¡µæ­£å¸¸æ˜¾ç¤º  
âŒ **å¤±è´¥**ï¼šé¡µé¢æŠ¥é”™ â†’ æŸ¥çœ‹Consoleé”™è¯¯

---

## ğŸ” è¯Šæ–­è„šæœ¬

å¦‚æœä»»ä½•æ­¥éª¤å¤±è´¥ï¼Œåœ¨Consoleä¸­æ‰§è¡Œä»¥ä¸‹è„šæœ¬ï¼š

```javascript
// å®Œæ•´è¯Šæ–­
console.log('=== å¼€å§‹è¯Šæ–­ ===\n');

// 1. ç¯å¢ƒæ£€æŸ¥
console.log('1. ç¯å¢ƒ:');
console.log('  Base URL:', import.meta.env.VITE_API_BASE_URL || '/api');
console.log('  Mode:', import.meta.env.MODE);

// 2. è®¤è¯æ£€æŸ¥
console.log('\n2. è®¤è¯:');
const token = localStorage.getItem('auth_token');
console.log('  Token:', token ? 'âœ… å­˜åœ¨' : 'âŒ ä¸å­˜åœ¨');
if (token) {
  console.log('  Tokenå€¼:', token.substring(0, 20) + '...');
}

// 3. APIæµ‹è¯•
console.log('\n3. APIæµ‹è¯•:');
const testAPIs = async () => {
  const endpoints = [
    '/api/dashboard/health-overview',
    '/api/devices',
    '/api/threats',
    '/api/transactions'
  ];
  
  for (const url of endpoints) {
    try {
      const res = await fetch(url, {
        headers: token ? { 'Authorization': `Bearer ${token}` } : {}
      });
      const data = await res.json();
      console.log(`  âœ… ${url}: ${res.status}`, data);
    } catch (err) {
      console.error(`  âŒ ${url}:`, err.message);
    }
  }
  
  console.log('\n=== è¯Šæ–­å®Œæˆ ===');
};

testAPIs();
```

---

## ğŸ› ï¸ å¸¸è§é—®é¢˜å¿«é€Ÿä¿®å¤

### é—®é¢˜ï¼šé¡µé¢æ²¡æœ‰æ•°æ®

```javascript
// æ–¹æ¡ˆ1ï¼šæ¸…é™¤ç¼“å­˜å¹¶åˆ·æ–°
localStorage.clear();
sessionStorage.clear();
location.reload();
```

### é—®é¢˜ï¼šMSWæœªå¯åŠ¨

```bash
# é‡å¯å¼€å‘æœåŠ¡å™¨
# 1. åœæ­¢å½“å‰æœåŠ¡å™¨ï¼ˆCtrl+Cï¼‰
# 2. é‡æ–°å¯åŠ¨
npm run dev
```

### é—®é¢˜ï¼šAPIè¯·æ±‚å¤±è´¥

```javascript
// æ£€æŸ¥MSW handlers
console.log('æ£€æŸ¥MSWé…ç½®...');
// åº”è¯¥çœ‹åˆ° "MSW: Base URL is /api"
// åº”è¯¥çœ‹åˆ° "MSW: Handlers initialized"
```

---

## ğŸ“Š æµ‹è¯•ç»“æœè®°å½•

| æµ‹è¯•é¡¹ | çŠ¶æ€ | å¤‡æ³¨ |
|--------|------|------|
| MSWå¯åŠ¨ | â¬œ |  |
| ç™»å½•åŠŸèƒ½ | â¬œ |  |
| Dashboardæ•°æ® | â¬œ |  |
| è®¾å¤‡åˆ—è¡¨ | â¬œ |  |
| å¨èƒäº‹ä»¶ | â¬œ |  |
| äº¤æ˜“è®°å½• | â¬œ |  |
| è®¾å¤‡è¯¦æƒ… | â¬œ |  |

âœ… = é€šè¿‡  
âŒ = å¤±è´¥  
â¬œ = æœªæµ‹è¯•

---

## ğŸ¯ é¢„æœŸç»“æœ

å¦‚æœæ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼Œä½ åº”è¯¥èƒ½å¤Ÿï¼š

1. âœ… æˆåŠŸç™»å½•ç³»ç»Ÿ
2. âœ… æŸ¥çœ‹Dashboardç»Ÿè®¡æ•°æ®å’Œå›¾è¡¨
3. âœ… æµè§ˆå’Œæœç´¢è®¾å¤‡åˆ—è¡¨
4. âœ… æŸ¥çœ‹è®¾å¤‡è¯¦æƒ…å’Œå¥åº·æ£€æŸ¥è®°å½•
5. âœ… æŸ¥çœ‹å’Œå¤„ç†å¨èƒäº‹ä»¶
6. âœ… æŸ¥çœ‹äº¤æ˜“è®°å½•
7. âœ… æ‰§è¡Œè®¾å¤‡æ“ä½œï¼ˆå®¡æ‰¹ã€æš‚åœã€æ¢å¤ã€åŠé”€ï¼‰

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœæµ‹è¯•å¤±è´¥ï¼Œè¯·æä¾›ï¼š

1. **å¤±è´¥çš„æµ‹è¯•æ­¥éª¤ç¼–å·**
2. **Consoleä¸­çš„é”™è¯¯ä¿¡æ¯**
3. **è¯Šæ–­è„šæœ¬çš„è¾“å‡º**
4. **Networkæ ‡ç­¾ä¸­çš„å¤±è´¥è¯·æ±‚**

è¿™å°†å¸®åŠ©å¿«é€Ÿå®šä½å’Œè§£å†³é—®é¢˜ï¼
